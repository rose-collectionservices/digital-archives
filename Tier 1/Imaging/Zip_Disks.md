# Table of Contents
## ZIP 100 Disks
* [Equipment](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Imaging/Zip_Disks.md#equipment)
* [Instructions](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Imaging/Zip_Disks.md#instructions)
* [How to Remove the Disk](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Imaging/Zip_Disks.md#to-remove-the-disk)

## ZIP 250 Disks
* [Equipment](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Imaging/Zip_Disks.md#equipment-needed)
* [Intructions](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Imaging/Zip_Disks.md#instructions-1)

[Generating Fiwalk reports, with virus checking](#generating-fiwalk-reports-with-virus-checking)</br>
[Packaging disk images and supplemental files using BagIt](#packaging-disk-images-and-supplemental-files-using-bagit)</br>
[Ingesting packaged content into the Keep](#ingesting-packaged-content-into-the-keep)

---

# ZIP 100 Disks
### Equipment
#### Materials Needed:
- Iomega ZIP 100 drive (and its USB/Power cords)
- Paperclip
- Tableau USB 3.0 Bridge

#### Software Needed:
- BitCurator environment
- GuyMager

### Instructions:
1. Make sure the computer is in the BitCurator environment (see [here](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Switching_BitCurator_Windows.md))
2. Connect the USB of the ZIP drive to the USB port of the Tableau bridge, using the Iomega USB cable (white)
3. Connect the Tableau Bridge to the computer using the <span class="blue">BLUE</span> USB cable 
4. Plug in the Iomega drive to a power source using its provided power cord. A <span class="green">green</span> light should appear on the front of the drive. 
5. Plug in the bridge to its power source. 
6. Push the power button on the Tableau bridge to turn it on. All of the lights minus the Device one should be on
7. Insert your ZIP disk into the drive, with the silver bit going in first. The Device light on the bridge should then turn on once it recognizes a disk is there.  
8. Launch Guymager (Desktop\Imaging and Recovery\Guymager).
9. In the Guymager window, select the correct drive and right click to bring up the imaging menu. Select “Acquire image.”
10. Select “Expert Witness Format, sub-format Guymager (file extension .EXX)” as file format and enter basic metadata, as relevant. 
Refer to Metadata Guidelines for guidance:
- a. Under “Split,” type in an amount above what the total of the drive says it is. Ex. 5 GB on a 4GB drive, to make sure it doesn’t split.
- b. Case Number: Record ID (MSS# then _ then a successive 2 or 3 digit number)
- c. Evidence Number: Disk Number/Title
- d. Examiner: Imager’s Net ID (e.g., dwaugh, elfarr)
- e. Description: Brief description of media (e.g., collection name and type of drive it is, and number if applicable (Rita Ann Higgins flash drive 1)) and physical label, if applicable.
- f. Notes: As needed

11. Browse to directory in which newly created image will be stored.
- a. Instructions for getting to hard drive PC:
    * i. Use the browse button (...) to the right of *Image directory* to navigate to the folder created at step 5;
    * 1. NOTE: Go ```media/bcadmin/New Volume/``` to reach the hard drive properly
- b. Back in Guymager, select newly created folder as image directory.

12. Enter file name for the image. The file name should be the record ID (MSS# then _ then a successive 2 or 3 digit number). If there is a virtual disk label, include this in the file name as well (MSS#_virtual disk label_successive 2 or 3 digit number, e.g., 1061_AlicesDisk_01).
13. The information file name will automatically populate with whatever file name is entered for the image. This will be the file name for the metadata generated by Guymager.
14. Select all check boxesat the bottom(“Calculate MD5,”“Calculate SHA-1,”“Calculate SHA-256,”“Re-read source after acquisition for verifications (takes twice as long),”and “Verify image after acquisition (takestwice as long)”)
15. Hit “Start”

**NOTE:** You can check the progress of disk imaging by scrolling to the right in the Guymager window.

**NOTE:** You can review the disk image contents by right-clicking the object and selecting *Scripts > Mount Disk Image*. The disk image will be mounted on the Desktop. Double-click to open it and view files.

### How to Remove the Disk:
- The button on the front to eject the disk *DOES NOT WORK*. Instead:
- Find a paperclip from someone
- There is a small hole on the back left side of the drive
- Insert the end of the paperclip into the hole and push inwards to eject the disk. Aim for the green spring (you can see it through the top of the drive)
- If you want to do another disk, close out GuyMager, insert a new disk, and reopen

[Back to top](#table-of-contents)

---

## ZIP 250 Disks

### Equipment Needed
#### Hardware
 - Tableau TD3
 - Tableau TDPX5
 - Tableau TC2-8-R2
 - Tableau TC6-8
 - Tableau TP5 Power Supply
 - Tableau TCA-MF-BNDL-3PC, smallest size
 - ZIP 250 drive
 - USB drive
 
 ### Instructions
 #### Set-Up
 1. Connect the TDPX5 to the TD3, using the connector on the left side of the TD3
 2. Plug in the TD3 using the TP5 power supply and correct size TCA piece. THe light on the power brick 
 should turn green once connected properly
 3. Connect the ZIP 250 drive to the TDPX5 using the IDE ribbon and the IDE signal cable
 4. Plug in the USB drive into the right side of the TD3
 5. Insert the ZIP 250 disk into the drive
 6. Power on the TD3 using the power button located on it's front
 
 #### Imaging
 7. You should see icons on either side of the screen on the TD3, one on each side. 
  - This shows the device is recognizing both the ZIP drive and the USB drive. It can take a second to recognize both. 
  - The left will show TDPX5 as a label.
  - The right will show USB-Out as a label.
 8. Hit "Duplicate" on the screen
 9. Double-check the Source and Destination fields to make sure they are correct, as well as the 
 Type, File format, Examiner, and Case ID fields. 
  - To change any of these, hit "Settings" at the bottom of the screen. 
  - From there, you can edit any of the fields using the onscreen keyboard
  - To change the directory, you will need the password for the profile (found on the whiteboard in the DA Lab)
  - You can choose to have the verification on or off (this really depends on how it goes, sometimes the verification
  messes up the image completely)
 10. Once all the edits are made, hit the Back button on the bottom left of the screen
 11. Hit the large "Duplicate" button on the right side of the screen
  - It will show you the progress of duplication/image, along with the elasped time and an estimation of the time 
  remaining. Keep an eye on it for errors and such. 
12. 
 - If successful, a chime will sound when the duplication/image is complete.
 - If unsuccessful, a loud error sound will chime. 
 - Hit "Ok" on the screen. 
13. Eject the ZIP 250 disk from the drive. 
 - NOTE: To safely eject the USB drive, click on it's icon on the main screen. Scroll to the bottom and click 
  "Eject disk"
14. Power down the TD3 by holding down the power button (even if you plan on doing more disks)
 - Hit "Yes" when prompted if you are sure if you want to shut down
15. Repeat from Step 5 if you plan to do more than one ZIP 250 disk at a time. 

[Back to top](#table-of-contents)

---

# Generating Fiwalk reports, with virus checking

### Before you begin:

* This workflow uses tools stored as part of the BitCurator suite. If necessary, restart the Digital Archives Lab workstation and boot to the BitCurator hard drive. You can find instructions on how to do this [here](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Switching_BitCurator_Windows.md).
* Ensure that the Digital Archives Lab workstation is not connected to the Internet by unplugging the ethernet cable.

### Run Fiwalk with the ClamAV plugin:

1. Ensure that the Digital Archives hard drive dock is powered on.
2. Locate **fiwalk.bash** on the desktop and double-click. 
3. The file should look like this: 

::

  	cd /home/bcadmin/.fiwalk

	for i in [MSSnumber]_{ID..ID} 
		do
		fiwalk -c clamconfig.txt -X /media/bcadmin/New\ Volume1/digitalArchives/diskImages/
		[collectionName]_diskImages/$i/fiwalk.xml /media/bcadmin/New\ Volume1/digitalArchives/
		diskImages/[collectionName]_diskImages/$i/$i.img *enter*
		done
		
4. Edit the information in brackets [ ] above to match your collection information. The ID numbers should equal
the folder numbers you are wanting to scan. 

*For example*

::

	cd /home/bcadmin/.fiwalk

	for i in 123_{01..06}
		do
		fiwalk -c clamconfig.txt -X /media/bcadmin/New\ Volume/digitalArchives/diskImages/
		Mackey_diskImages/$i/fiwalk.xml /media/bcadmin/New\ Volume/digitalArchives/
		diskImages/Mackey_diskImages/$i/$i.E01
		done
		
5. **SAVE** the file and close it. 

	*If you do not save the file, the script will not run correctly*

6. Open a terminal window but right-clicking anywhere on the Desktop and selecting **Open Terminal**.
7. In the terminal, navigate to the Desktop using

    ```cd Desktop```

8. Type **bash fiwalk.bash** and hit **enter**
	
### Review fiwalk.xml:
Using the **virus.bash** file, fiwalk reports can be read for an entire collection in one step. The script searches for the ``<clamav_infected>`` tag within the XML reports, and returns whether there is a ``"Cannot determine file system type"`` error, if there is a virus identified or if the report is clear. If you notice that one or more files are contaminated, consult the digital archivist.

**NOTE:** The *.bash* file and the Python file of the same name must be in the same directory. One does not work without the other.

1. Open the **virus.bash** file. 
2. Edit the file path to direct to the collection folder, similar to how you did above. 
	* If you type an invalid file path and run the file, an error message will appear.
3. **SAVE** the file. 
4. Open a terminal window but right-clicking anywhere on the Desktop and selecting **Open Terminal**.
5. In the terminal, navigate to the Desktop using

    ```cd Desktop``` 

6. Type **bash virus.bash** and hit **enter**
7. The results of the scan will appear in the terminal window. 
	* **NOTE:** This script will run on the entire folder as a whole, so if you're doing a collection in stages, you'll see previous results as well. It's best to wait to run it all at once. 
	* NOTE: If there are no ``<clamav_infected>`` tags in the XML file, the scan result will say ``"Cannot determine file system type"`` error, so those files will need to be inspected further.
  
[Back to top](#table-of-contents)

---

# Packaging disk images and supplemental files using BagIt

### Before you begin:

* This workflow uses tools stored in BitCurator. If necessary, restart the Digital Archives Lab workstation and boot to the BitCurator hard drive. You can find instructions on how to do this [here](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Switching_BitCurator_Windows.md).
* Ensure that the Digital Archives Lab workstation is not connected to the Internet by unplugging the ethernet cable.

### Create folders:

1. Ensure that the Digital Archives hard drive dock is powered on. 
2. Ensure that the Digital Archives hard drive is mounted inside BitCurator. If necessary, double-click the **New Volume** icon in the toolbar on the left-hand side of the screen. Once the Digital Archives hard drive is mounted, a **New Volume** icon will appear on the Desktop.
3. Double-click the **New Volume** icon on the Desktop and navigate to the **Mackey_diskImages** folder.
4. Create a new folder inside the **Mackey_diskImages** folder. Name the folder using your netID or name.
5. Move into the folder created at step 4.

**NOTE:** Before beginning the process of creating bags, each forensically packaged disk image (.E01) must be placed with any supplemental files inside a folder named using the MSSnumber_ID (e.g., 1297_01). There are two ways to create these folders:

To get to the correct directory, in the netID folder you just created, right click and select **Open in Terminal**
	
	
a. Type the following command to create all 20 folders at once and hit **enter**

    mkdir 1297_{[ID]..[ID]}
    
*For example*

    mkdir 1297_{150..170}
	
6. Each folder needs to contain the following files:
	a. The forensically packaged disk image (.E01)
	b. The ``fiwalk.xml`` file
	
### Copy files:
	
7. On the desktop, look for **copy.bash** and click on it to open. 

The file should look like this:
	
::

	cd /media/bcadmin/New\ Volume1/digitalArchives/diskImages/[collectionName]_diskImages/
	
	for i in [MSSnumber]_{[ID]..[ID]}
		do
		cp ./$i/*.E01 ./$i/*.xml 
		./[new netID folder]/$i
		done
		
8. Edit the information in brackets [ ] above to match your collection information. The ID numbers should equal
the folder numbers you are wanting to copy. 
		
*For example*::

	cd /media/bcadmin/New\ Volume1/digitalArchives/diskImages/test_diskImages/
	
	for i in 123_{01..05}
		do
		cp ./$i/*.E01 ./$i/*.xml ./bedwa/$i
		done
		
9. In the terminal window, navigate to the desktop using 

    ```cd Desktop```

10. Type in **bash copy.bash** and hit **enter**

### Create and Validate a Bag:

11. On the Desktop, locate the file **bagger.bash** and click to open it.

The file should look like this: 

::
	
	cd /media/bcadmin/New\ Volume1/digitalArchives/diskImages/[collectionName]_diskImages/[netID]
	
	for i in [MSSnumber]_{[ID]..[ID]}
		do
		
		bagit.py --md5 --sha1 --contact-name=[netID] ./$i
		bagit.py --validate ./$i
		echo
		
		done
		
*For example*::

	cd /media/bcadmin/New\ Volume1/digitalArchives/diskImages/test_diskImages/bedwa
	
	for i in 123_{01..05}
		do
		
		bagit.py --md5 --sha1 --contact-name=bedwa24 ./$i
		bagit.py --validate ./$i
		echo
		
		done

12. Edit the information located in the brackets [] to match your collection information. The ID numbers should equal the folder numbers you are wanting to bag. 
		
13. **SAVE** the file and close it.
	*If you do not save the file, it will not run correctly.* 
	
14. In the terminal window, navigate to the desktop using 

    ```cd Desktop```
	
15. Type in **bash bagger.bash** and hit **enter**

[Back to top](#table-of-contents)

---

# Ingesting packaged content into the Keep

## Move packaged content to the server:

### Before you begin:

* This workflow uses tools stored in Windows. If necessary, restart the Digital Archives Lab workstation and boot to the 
Windows hard drive. You can find instructions on how to do this 
[here](https://github.com/bedwards254/DAprocessingTiers/blob/master/Tier%201/Switching_BitCurator_Windows.md).

* Ensure that the Digital Archives Lab workstation **is** connected to the Internet by plugging in the ethernet cable if 
necessary. Unlike many of our processes, ingest into the Keep does require a network connection.

### Connect to the VPN:

1. Launch the BIG-IP Edge Client from the Windows by double-clicking the icon pinned  
   to the taskbar at the bottom of the screen.
2. Click **Connect**.
3. Log-in using the stored Emory NetID and password. If no stored log-in details are 
   available, you may contact either John, Carrie, or Elizabeth.  
4. Wait until the connection status has changed to **Connected**. Once connected, the BIG-IP Edge Client window will close automatically.

### Connect to the server via SFTP:

5. Launch Filezilla by double-clicking the Filezilla icon on the Desktop.
6. From the drop-down **File** menu, select **Site Manager...**
7. Find and double-click your netID from the list of sites on the left-hand side of the **Site Manager...** window.
8. Enter your password and hit **OK**.
9. Filezilla will connect to the server.

**Note:** When looking at the Filezilla window, the file tree for your local computer will be listed on the left-hand side. Once connected to the server, you will see the file tree for the server on the right-hand side. Moving files stored locally to the server simply requires that you drag them from the local file tree and drop them into the relevant folder in the server file tree.

### Move Bags to the server:

10. In the local file tree, navigate to your Bags' location. This is probably D:\digitalArchives\diskImages\Mackey_diskImages.
11. One by one, drag and drop your verified Bags from their local folder to the **diskimage** folder on the server side.
12. View the **Successful Transfers** tab at the bottom-left of the Filezilla window to verify that transfer has been completed successfully.

## Ingest Bags from the server into the Keep:

### Before you begin:

* The following steps can be performed from your own computer and do not require that you be in the Digital Archives Lab.

### Ingest Bag into the Keep:

13. Log into the Keep at https://keep.library.emory.edu. 
14. Click **ingest uploaded content**.
15. In the **Collection** box, begin typing **Mackey** and select **1297 Nathaniel Mackey papers** from the list that pops up.
16. From the **File to ingest** drop-down menu, select the first of your Bags.
17. Hit **Submit**.

### Complete Keep object metadata record:

18. Click on the newly-ingested object's PID in order to view its metadata record.
19. Complete **Descriptive Metadata**:
	
	The following fields should auto-populate:
		
	* Collection
	* Title
	* Resource Type
	* Genre
	* Identifier
		
	Refer to the floppy disk label. If the label contains any notes regarding dates or content, enter them where relevant. 
		
	* Dates can be added to the **Covering Dates** field. Neither a date range nor full dates are required, so add as much or as little information as you have.
	* Other label information can be added to the **Abstract** field.
		
20. Complete **Technical Metadata**:
	
	The following fields should be completed:
		
	* **Imaging Date:** Enter the date on which you imaged the disk.
	* **Creating Application:** From the drop-down menu, select the application used to create the disk image. For our ZIP disks, this will be **GuyMager (BitCurator 1.0) 0.7.3-1**.
	* **Original Environment Software:** Type *none* in all three **Original * Environment Software** fields.
	* **Hardware - Name:** Type *ZIP [number] disk*.
	* **Hardware - Type:** Select **removable media** from drop-down menu.
	* **Other information:** Type *Image created using GuyMager in BitCurator environment*.
		   
21. Complete **Rights Metadata**:
	
	The following field should be completed:
		
	* **Access Status:** Select **13: Metadata only** from the drop-down menu.
		
22. Hit **Save**.

### Repeat for remaining Bags:

23. For each remaining Bag, repeat from step 14.

[Back to top](#table-of-contents)
